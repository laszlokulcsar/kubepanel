{% extends "base.html" %}
{% load static %}

{% block content %}
<main class="content">
 <div class="container-fluid p-0">
<div class="card flex-fill">
<h1>Restore Snapshot Upload</h1>
<p>Select a thinâ€‘LVM snapshot file (<code>.lv.zst</code>) to upload for domain <strong>{{ domain_name }}</strong>.</p>
<form method="post" action="{% url 'upload_restore' domain_name=domain_name %}" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="form-group">
    <label for="id_snapshot_file">Snapshot File (.lv.zst)</label>
    <input type="file" name="snapshot_file" id="id_snapshot_file" accept=".lv.zst" required class="form-control" />
  </div>
  <button type="submit" class="btn btn-primary mt-3">Upload and Queue Restore</button>
</form>
{% if messages %}
  <ul class="mt-3">
    {% for message in messages %}
      <li class="alert {{ message.tags }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
</div>
</main>
{% endblock %}
